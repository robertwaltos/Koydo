import fs from "node:fs/promises";
import path from "node:path";

const projectRoot = process.cwd();
const catalogDir = path.join(projectRoot, "src", "lib", "modules", "catalog");

const modules = [
  {
    id: "language-arts-101",
    constName: "LanguageArts101Module",
    title: "Language Arts Foundations",
    subject: "Language Arts",
    description: "Build reading, writing, speaking, and comprehension skills with age-appropriate practice.",
    focus: "reading and writing",
    strands: ["main idea", "context clues", "paragraph structure", "revision"],
    lessonTitles: [
      "Reading for Main Idea",
      "Context Clues and Vocabulary",
      "Checkpoint: Reading Comprehension",
      "Writing Strong Sentences",
      "Paragraph Building Workshop",
      "Checkpoint: Writing Basics",
      "Story Elements and Theme",
      "Peer Feedback Activity",
      "Review: Language Skills",
      "Mastery: Language Arts",
    ],
    quizTopics: ["Reading Comprehension", "Writing Basics", "Language Skills", "Language Arts Mastery"],
  },
  {
    id: "basic-math-101",
    constName: "BasicMath101Module",
    title: "Basic Math Foundations",
    subject: "Math",
    description: "Learn number sense, counting, addition, subtraction, and early problem solving.",
    focus: "numbers and operations",
    strands: ["place value", "addition", "subtraction", "word problems"],
    lessonTitles: [
      "Place Value and Number Sense",
      "Addition Strategies",
      "Checkpoint: Number Operations",
      "Subtraction Strategies",
      "Math Word Problem Methods",
      "Checkpoint: Problem Solving",
      "Measurement and Estimation",
      "Math Journal Reflection",
      "Review: Core Math Skills",
      "Mastery: Basic Math",
    ],
    quizTopics: ["Number Operations", "Problem Solving", "Core Math Skills", "Basic Math Mastery"],
  },
  {
    id: "advanced-math-201",
    constName: "AdvancedMath201Module",
    title: "Advanced Math Topics",
    subject: "Advanced Math",
    description: "Explore algebraic thinking, functions, probability, and advanced problem solving.",
    focus: "advanced problem solving",
    strands: ["expressions", "linear functions", "probability", "proof reasoning"],
    lessonTitles: [
      "Expressions and Equations",
      "Linear Functions and Graphs",
      "Checkpoint: Algebra Skills",
      "Systems and Modeling",
      "Probability and Statistics",
      "Checkpoint: Data Reasoning",
      "Geometric Reasoning",
      "Proof and Logic Workshop",
      "Review: Advanced Strategies",
      "Mastery: Advanced Math",
    ],
    quizTopics: ["Algebra Skills", "Data Reasoning", "Advanced Strategies", "Advanced Math Mastery"],
  },
  {
    id: "general-science-101",
    constName: "GeneralScience101Module",
    title: "General Science Explorer",
    subject: "Science",
    description: "Understand scientific thinking, observation, experimentation, and real-world science.",
    focus: "scientific inquiry",
    strands: ["observation", "hypothesis", "variables", "evidence"],
    lessonTitles: [
      "Observation and Questions",
      "Hypothesis and Testing",
      "Checkpoint: Scientific Method",
      "Variables and Controls",
      "Interpreting Evidence",
      "Checkpoint: Experimental Design",
      "Science in Daily Life",
      "Investigation Reflection",
      "Review: Inquiry Skills",
      "Mastery: General Science",
    ],
    quizTopics: ["Scientific Method", "Experimental Design", "Inquiry Skills", "General Science Mastery"],
  },
  {
    id: "biology-101",
    constName: "Biology101Module",
    title: "Biology Essentials",
    subject: "Biology",
    description: "Discover living systems, cells, ecosystems, and the diversity of life.",
    focus: "living systems",
    strands: ["cells", "organs", "ecosystems", "adaptation"],
    lessonTitles: [
      "Cells and Life Processes",
      "Body Systems Overview",
      "Checkpoint: Cell Biology",
      "Ecosystems and Food Webs",
      "Adaptation and Survival",
      "Checkpoint: Ecosystem Thinking",
      "Genetics Basics",
      "Biology Lab Reflection",
      "Review: Biology Concepts",
      "Mastery: Biology",
    ],
    quizTopics: ["Cell Biology", "Ecosystem Thinking", "Biology Concepts", "Biology Mastery"],
  },
  {
    id: "chemistry-101",
    constName: "Chemistry101Module",
    title: "Chemistry Essentials",
    subject: "Chemistry",
    description: "Learn matter, reactions, mixtures, and lab safety through guided lessons.",
    focus: "matter and reactions",
    strands: ["states of matter", "atoms", "mixtures", "chemical change"],
    lessonTitles: [
      "States of Matter",
      "Atoms and Molecules",
      "Checkpoint: Matter Basics",
      "Mixtures and Solutions",
      "Chemical Reactions Intro",
      "Checkpoint: Reaction Evidence",
      "Acids, Bases, and pH",
      "Lab Safety Simulation",
      "Review: Chemistry Ideas",
      "Mastery: Chemistry",
    ],
    quizTopics: ["Matter Basics", "Reaction Evidence", "Chemistry Ideas", "Chemistry Mastery"],
  },
  {
    id: "physics-101",
    constName: "Physics101Module",
    title: "Physics Essentials",
    subject: "Physics",
    description: "Study motion, forces, energy, waves, and practical physics applications.",
    focus: "motion and energy",
    strands: ["motion", "forces", "energy transfer", "waves"],
    lessonTitles: [
      "Motion and Speed",
      "Forces and Newton Laws",
      "Checkpoint: Motion Concepts",
      "Work and Energy",
      "Waves and Sound",
      "Checkpoint: Energy Transfer",
      "Electricity Basics",
      "Physics Challenge Lab",
      "Review: Physics Principles",
      "Mastery: Physics",
    ],
    quizTopics: ["Motion Concepts", "Energy Transfer", "Physics Principles", "Physics Mastery"],
  },
  {
    id: "social-studies-us-101",
    constName: "SocialStudiesUs101Module",
    title: "Social Studies: United States",
    subject: "Social Studies US",
    description: "Learn civics, geography, culture, and key institutions of the United States.",
    focus: "civics and institutions",
    strands: ["constitution", "branches of government", "citizenship", "communities"],
    lessonTitles: [
      "Foundations of US Government",
      "Branches and Checks",
      "Checkpoint: Civics Basics",
      "Rights and Responsibilities",
      "Local and State Government",
      "Checkpoint: Civic Participation",
      "US Regions and Culture",
      "Community Impact Activity",
      "Review: US Social Studies",
      "Mastery: US Civics",
    ],
    quizTopics: ["Civics Basics", "Civic Participation", "US Social Studies", "US Civics Mastery"],
  },
  {
    id: "social-studies-world-101",
    constName: "SocialStudiesWorld101Module",
    title: "Social Studies: World",
    subject: "Social Studies World",
    description: "Compare world cultures, governments, economies, and societies across regions.",
    focus: "global societies",
    strands: ["culture", "government systems", "trade", "human rights"],
    lessonTitles: [
      "Culture and Identity",
      "Government Systems Worldwide",
      "Checkpoint: Global Civics",
      "Economies and Trade",
      "Migration and Urbanization",
      "Checkpoint: Global Challenges",
      "Global Organizations",
      "World Dialogue Activity",
      "Review: World Social Studies",
      "Mastery: Global Studies",
    ],
    quizTopics: ["Global Civics", "Global Challenges", "World Social Studies", "Global Studies Mastery"],
  },
  {
    id: "world-history-101",
    constName: "WorldHistory101Module",
    title: "World History Journey",
    subject: "History Worldwide",
    description: "Survey major civilizations, turning points, and global historical connections.",
    focus: "historical thinking",
    strands: ["civilizations", "timeline", "cause and effect", "primary sources"],
    lessonTitles: [
      "Ancient Civilizations",
      "Classical Era Connections",
      "Checkpoint: Early History",
      "Medieval to Early Modern",
      "Revolutions and Change",
      "Checkpoint: Turning Points",
      "Modern World Developments",
      "Source Analysis Activity",
      "Review: Historical Patterns",
      "Mastery: World History",
    ],
    quizTopics: ["Early History", "Turning Points", "Historical Patterns", "World History Mastery"],
  },
  {
    id: "arts-101",
    constName: "Arts101Module",
    title: "Creative Arts Studio",
    subject: "Arts",
    description: "Practice visual arts, music, design, and creative expression across mediums.",
    focus: "creative expression",
    strands: ["color theory", "composition", "rhythm", "critique"],
    lessonTitles: [
      "Elements of Art",
      "Color and Composition",
      "Checkpoint: Visual Language",
      "Music and Rhythm",
      "Design Thinking Basics",
      "Checkpoint: Creative Process",
      "Art History Snapshot",
      "Portfolio Reflection",
      "Review: Artistic Skills",
      "Mastery: Creative Arts",
    ],
    quizTopics: ["Visual Language", "Creative Process", "Artistic Skills", "Creative Arts Mastery"],
  },
  {
    id: "coding-101",
    constName: "Coding101Module",
    title: "Coding Foundations",
    subject: "Coding",
    description: "Start programming logic, sequencing, debugging, and computational thinking.",
    focus: "coding logic",
    strands: ["sequence", "conditionals", "loops", "debugging"],
    lessonTitles: [
      "Algorithms and Sequence",
      "Conditionals and Decisions",
      "Checkpoint: Logic Basics",
      "Loops and Repetition",
      "Functions and Reuse",
      "Checkpoint: Program Flow",
      "Debugging Strategies",
      "Mini App Activity",
      "Review: Coding Concepts",
      "Mastery: Coding",
    ],
    quizTopics: ["Logic Basics", "Program Flow", "Coding Concepts", "Coding Mastery"],
  },
  {
    id: "financial-literacy-101",
    constName: "FinancialLiteracy101Module",
    title: "Financial Literacy Basics",
    subject: "Financial Literacy",
    description: "Learn saving, budgeting, earning, spending, and responsible money decisions.",
    focus: "money management",
    strands: ["budgeting", "saving", "needs vs wants", "interest"],
    lessonTitles: [
      "Needs, Wants, and Choices",
      "Budget Planning Basics",
      "Checkpoint: Budget Skills",
      "Saving and Goals",
      "Banking and Interest",
      "Checkpoint: Smart Spending",
      "Income and Work",
      "Money Reflection Activity",
      "Review: Finance Habits",
      "Mastery: Financial Literacy",
    ],
    quizTopics: ["Budget Skills", "Smart Spending", "Finance Habits", "Financial Literacy Mastery"],
  },
  {
    id: "household-management-101",
    constName: "HouseholdManagement101Module",
    title: "Household Management Skills",
    subject: "Household Management",
    description: "Build practical skills for home routines, planning, organization, and safety.",
    focus: "home planning",
    strands: ["schedules", "cleaning systems", "meal planning", "home safety"],
    lessonTitles: [
      "Daily Home Routines",
      "Time and Task Planning",
      "Checkpoint: Routine Systems",
      "Meal and Supply Planning",
      "Cleaning and Organization",
      "Checkpoint: Home Logistics",
      "Safety and Emergency Prep",
      "Family Coordination Activity",
      "Review: Household Skills",
      "Mastery: Household Management",
    ],
    quizTopics: ["Routine Systems", "Home Logistics", "Household Skills", "Household Management Mastery"],
  },
  {
    id: "farming-101",
    constName: "Farming101Module",
    title: "Farming and Food Systems",
    subject: "Farming",
    description: "Understand soil, crops, seasons, sustainability, and food production basics.",
    focus: "food systems",
    strands: ["soil health", "crop cycles", "water use", "sustainability"],
    lessonTitles: [
      "Soil and Plant Needs",
      "Crop Cycles and Seasons",
      "Checkpoint: Farming Basics",
      "Water and Irrigation",
      "Pests and Plant Health",
      "Checkpoint: Sustainable Farming",
      "Farm to Market Journey",
      "Garden Observation Activity",
      "Review: Agriculture Concepts",
      "Mastery: Farming Systems",
    ],
    quizTopics: ["Farming Basics", "Sustainable Farming", "Agriculture Concepts", "Farming Systems Mastery"],
  },
  {
    id: "astronomy-101",
    constName: "Astronomy101Module",
    title: "Astronomy Explorer",
    subject: "Astronomy",
    description: "Explore stars, planets, galaxies, and observation of the night sky.",
    focus: "space observation",
    strands: ["solar system", "stars", "galaxies", "observation methods"],
    lessonTitles: [
      "Our Solar System",
      "Stars and Constellations",
      "Checkpoint: Sky Basics",
      "Planets and Orbits",
      "Galaxies and Scale",
      "Checkpoint: Space Concepts",
      "Telescopes and Tools",
      "Night Sky Activity",
      "Review: Astronomy Topics",
      "Mastery: Astronomy",
    ],
    quizTopics: ["Sky Basics", "Space Concepts", "Astronomy Topics", "Astronomy Mastery"],
  },
  {
    id: "geography-101",
    constName: "Geography101Module",
    title: "Geography and Maps",
    subject: "Geography",
    description: "Learn maps, landforms, climates, regions, and human-environment interaction.",
    focus: "maps and regions",
    strands: ["map skills", "landforms", "climate zones", "human geography"],
    lessonTitles: [
      "Map Reading Fundamentals",
      "Coordinates and Scale",
      "Checkpoint: Map Skills",
      "Landforms and Waterways",
      "Climate and Biomes",
      "Checkpoint: Region Analysis",
      "Population and Cities",
      "Geography Field Notes",
      "Review: Geographic Thinking",
      "Mastery: Geography",
    ],
    quizTopics: ["Map Skills", "Region Analysis", "Geographic Thinking", "Geography Mastery"],
  },
  {
    id: "general-relativity-101",
    constName: "GeneralRelativity101Module",
    title: "General Relativity Intro",
    subject: "General Relativity",
    description: "Introduce spacetime, gravity, and Einstein ideas through intuitive models.",
    focus: "spacetime concepts",
    strands: ["frames of reference", "spacetime", "gravity curvature", "evidence"],
    lessonTitles: [
      "Classical vs Relativistic Thinking",
      "Space and Time Together",
      "Checkpoint: Relativity Basics",
      "Gravity as Curvature",
      "Black Holes and Lensing",
      "Checkpoint: Spacetime Reasoning",
      "Cosmology Connections",
      "Thought Experiment Activity",
      "Review: Relativity Concepts",
      "Mastery: General Relativity",
    ],
    quizTopics: ["Relativity Basics", "Spacetime Reasoning", "Relativity Concepts", "General Relativity Mastery"],
  },
  {
    id: "language-arts-201",
    constName: "LanguageArts201Module",
    title: "Language Arts Workshop II",
    subject: "Language Arts",
    description: "Deepen writing craft, reading analysis, argumentation, and revision in longer texts.",
    focus: "reading analysis and writing craft",
    strands: ["author's purpose", "text evidence", "argument structure", "editing"],
    lessonTitles: [
      "Author's Purpose and Audience",
      "Evidence Tracking in Complex Texts",
      "Checkpoint: Analytical Reading",
      "Claim and Counterclaim Writing",
      "Argument Paragraph Studio",
      "Checkpoint: Evidence-Based Writing",
      "Style, Tone, and Voice",
      "Peer Review Protocols",
      "Review: Analysis and Craft",
      "Mastery: Language Arts II",
    ],
    quizTopics: ["Analytical Reading", "Evidence-Based Writing", "Analysis and Craft", "Language Arts II Mastery"],
  },
  {
    id: "basic-math-201",
    constName: "BasicMath201Module",
    title: "Basic Math Applications",
    subject: "Math",
    description: "Apply arithmetic, fractions, and measurement strategies to multi-step real-life problems.",
    focus: "applied arithmetic reasoning",
    strands: ["fractions", "multi-step operations", "measurement", "data interpretation"],
    lessonTitles: [
      "Fractions in Daily Contexts",
      "Multi-Step Operations Planning",
      "Checkpoint: Applied Number Sense",
      "Measurement and Unit Conversion",
      "Interpreting Tables and Graphs",
      "Checkpoint: Data and Measurement",
      "Percent and Proportion Basics",
      "Math Decision Scenarios",
      "Review: Applied Math Strategies",
      "Mastery: Basic Math Applications",
    ],
    quizTopics: ["Applied Number Sense", "Data and Measurement", "Applied Math Strategies", "Basic Math Applications Mastery"],
  },
  {
    id: "general-science-201",
    constName: "GeneralScience201Module",
    title: "General Science Investigations",
    subject: "Science",
    description: "Run structured investigations with evidence claims, controls, and data-based conclusions.",
    focus: "scientific investigation cycles",
    strands: ["experimental design", "variables", "data analysis", "claims and evidence"],
    lessonTitles: [
      "Designing Testable Questions",
      "Variables and Fair Testing",
      "Checkpoint: Investigation Design",
      "Data Collection Quality",
      "Interpreting Patterns and Outliers",
      "Checkpoint: Evidence Analysis",
      "Building Scientific Claims",
      "Lab Reflection Protocol",
      "Review: Inquiry to Conclusion",
      "Mastery: Science Investigations",
    ],
    quizTopics: ["Investigation Design", "Evidence Analysis", "Inquiry to Conclusion", "Science Investigations Mastery"],
  },
  {
    id: "biology-201",
    constName: "Biology201Module",
    title: "Biology Systems and Change",
    subject: "Biology",
    description: "Connect cells, genetics, ecosystems, and adaptation through systems-level reasoning.",
    focus: "biological systems thinking",
    strands: ["homeostasis", "genetic inheritance", "ecosystem interactions", "adaptation pressure"],
    lessonTitles: [
      "Homeostasis and Feedback Loops",
      "Genetic Patterns and Traits",
      "Checkpoint: Genetics and Systems",
      "Energy Flow in Ecosystems",
      "Population Change Drivers",
      "Checkpoint: Ecology Reasoning",
      "Human Impact on Biodiversity",
      "Biology Case Discussion",
      "Review: Systems in Biology",
      "Mastery: Biology II",
    ],
    quizTopics: ["Genetics and Systems", "Ecology Reasoning", "Systems in Biology", "Biology II Mastery"],
  },
  {
    id: "chemistry-201",
    constName: "Chemistry201Module",
    title: "Chemistry Reactions and Models",
    subject: "Chemistry",
    description: "Model reactions, conservation, and solution behavior with quantitative reasoning.",
    focus: "reaction modeling",
    strands: ["reaction types", "conservation of mass", "concentration", "evidence in reactions"],
    lessonTitles: [
      "Reaction Patterns and Clues",
      "Balancing and Conservation Thinking",
      "Checkpoint: Reaction Models",
      "Solutions and Concentration",
      "Rate, Temperature, and Catalysts",
      "Checkpoint: Chemical Change Evidence",
      "Acids/Bases in Context",
      "Chemistry Lab Review",
      "Review: Chemical Reasoning",
      "Mastery: Chemistry II",
    ],
    quizTopics: ["Reaction Models", "Chemical Change Evidence", "Chemical Reasoning", "Chemistry II Mastery"],
  },
  {
    id: "physics-201",
    constName: "Physics201Module",
    title: "Physics Modeling and Applications",
    subject: "Physics",
    description: "Apply force, energy, and wave models to explain physical systems and outcomes.",
    focus: "physics model-based reasoning",
    strands: ["force diagrams", "energy conservation", "wave behavior", "systems modeling"],
    lessonTitles: [
      "Forces in Real Systems",
      "Modeling Motion with Diagrams",
      "Checkpoint: Force and Motion Models",
      "Energy Transfer Pathways",
      "Wave Interactions and Signals",
      "Checkpoint: Energy and Waves",
      "Electric Systems Foundations",
      "Physics Design Challenge",
      "Review: Model-Based Physics",
      "Mastery: Physics II",
    ],
    quizTopics: ["Force and Motion Models", "Energy and Waves", "Model-Based Physics", "Physics II Mastery"],
  },
  {
    id: "social-studies-us-201",
    constName: "SocialStudiesUs201Module",
    title: "US Civics and Institutions II",
    subject: "Social Studies US",
    description: "Analyze civic systems, policy tradeoffs, and historical continuity in US institutions.",
    focus: "civic analysis",
    strands: ["constitutional principles", "federalism", "public policy", "civic participation"],
    lessonTitles: [
      "Constitutional Principles in Action",
      "Federal, State, and Local Tradeoffs",
      "Checkpoint: Institutional Analysis",
      "Policy Design and Impact",
      "Rights, Duties, and Public Debate",
      "Checkpoint: Civic Decision-Making",
      "Media, Information, and Democracy",
      "Community Action Studio",
      "Review: US Civic Reasoning",
      "Mastery: US Civics II",
    ],
    quizTopics: ["Institutional Analysis", "Civic Decision-Making", "US Civic Reasoning", "US Civics II Mastery"],
  },
  {
    id: "social-studies-world-201",
    constName: "SocialStudiesWorld201Module",
    title: "Global Systems and Citizenship",
    subject: "Social Studies World",
    description: "Study global governance, development, migration, and cooperation across regions.",
    focus: "global systems reasoning",
    strands: ["governance models", "development indicators", "migration drivers", "global cooperation"],
    lessonTitles: [
      "Comparing Governance Models",
      "Development and Quality-of-Life Data",
      "Checkpoint: Global Systems",
      "Migration Push and Pull Factors",
      "Trade, Conflict, and Cooperation",
      "Checkpoint: Global Challenges II",
      "International Organizations and Impact",
      "Global Dialogue Workshop",
      "Review: World Civic Analysis",
      "Mastery: Global Citizenship",
    ],
    quizTopics: ["Global Systems", "Global Challenges II", "World Civic Analysis", "Global Citizenship Mastery"],
  },
  {
    id: "world-history-201",
    constName: "WorldHistory201Module",
    title: "World History Themes and Turning Points",
    subject: "History Worldwide",
    description: "Trace long-term historical themes using sources, causation, and continuity/change analysis.",
    focus: "historical analysis and interpretation",
    strands: ["causation", "continuity and change", "historical evidence", "perspective"],
    lessonTitles: [
      "Causation in Historical Events",
      "Continuity and Change Over Time",
      "Checkpoint: Historical Thinking II",
      "Using Sources and Corroboration",
      "Perspective, Bias, and Interpretation",
      "Checkpoint: Evidence and Argument",
      "Global Interconnections Across Eras",
      "History Seminar Protocol",
      "Review: World History Themes",
      "Mastery: World History II",
    ],
    quizTopics: ["Historical Thinking II", "Evidence and Argument", "World History Themes", "World History II Mastery"],
  },
  {
    id: "coding-201",
    constName: "Coding201Module",
    title: "Coding Projects and Problem Solving",
    subject: "Coding",
    description: "Build larger coding workflows with decomposition, testing, and iterative refinement.",
    focus: "project-based computational thinking",
    strands: ["decomposition", "testing", "state management", "debug strategy"],
    lessonTitles: [
      "Breaking Problems into Components",
      "Designing with Pseudocode",
      "Checkpoint: Program Design",
      "Testing and Edge Cases",
      "State and Data Flow",
      "Checkpoint: Debug and Validation",
      "Refactoring for Clarity",
      "Mini Project Sprint",
      "Review: Coding Workflow",
      "Mastery: Coding II",
    ],
    quizTopics: ["Program Design", "Debug and Validation", "Coding Workflow", "Coding II Mastery"],
  },
  {
    id: "financial-literacy-201",
    constName: "FinancialLiteracy201Module",
    title: "Financial Planning and Decisions",
    subject: "Financial Literacy",
    description: "Make informed choices using budgeting, opportunity cost, risk, and long-term planning.",
    focus: "financial decision-making",
    strands: ["cash-flow planning", "opportunity cost", "risk and return", "long-term goals"],
    lessonTitles: [
      "Cash-Flow Planning",
      "Opportunity Cost in Real Choices",
      "Checkpoint: Decision Frameworks",
      "Risk, Return, and Diversification",
      "Credit and Borrowing Basics",
      "Checkpoint: Smart Financial Tradeoffs",
      "Goal-Based Saving Systems",
      "Scenario Planning Workshop",
      "Review: Financial Reasoning",
      "Mastery: Financial Literacy II",
    ],
    quizTopics: ["Decision Frameworks", "Smart Financial Tradeoffs", "Financial Reasoning", "Financial Literacy II Mastery"],
  },
  {
    id: "geography-201",
    constName: "Geography201Module",
    title: "Geography, Environment, and Data",
    subject: "Geography",
    description: "Use geographic tools and datasets to analyze environmental and human systems.",
    focus: "geospatial analysis",
    strands: ["map interpretation", "spatial data", "environmental change", "human settlement patterns"],
    lessonTitles: [
      "Interpreting Thematic Maps",
      "Spatial Patterns and Data Layers",
      "Checkpoint: Geospatial Skills II",
      "Environmental Change and Risk",
      "Urbanization and Infrastructure",
      "Checkpoint: Human-Environment Systems",
      "Resource Distribution and Equity",
      "Field Study Simulation",
      "Review: Geographic Data Reasoning",
      "Mastery: Geography II",
    ],
    quizTopics: ["Geospatial Skills II", "Human-Environment Systems", "Geographic Data Reasoning", "Geography II Mastery"],
  },
  {
    id: "advanced-math-301",
    constName: "AdvancedMath301Module",
    title: "Advanced Math Modeling",
    subject: "Advanced Math",
    description: "Apply algebra, functions, and probability to rigorous modeling and decision scenarios.",
    focus: "advanced mathematical modeling",
    strands: ["function modeling", "optimization", "probabilistic reasoning", "proof structure"],
    lessonTitles: [
      "Modeling with Functions",
      "Parameter Changes and Sensitivity",
      "Checkpoint: Function Modeling",
      "Optimization Strategy",
      "Uncertainty and Probability Models",
      "Checkpoint: Quantitative Decisions",
      "Argument and Proof Moves",
      "Model Critique Workshop",
      "Review: Advanced Math Models",
      "Mastery: Advanced Math III",
    ],
    quizTopics: ["Function Modeling", "Quantitative Decisions", "Advanced Math Models", "Advanced Math III Mastery"],
  },
  {
    id: "arts-201",
    constName: "Arts201Module",
    title: "Creative Arts Studio II",
    subject: "Arts",
    description: "Develop composition, visual storytelling, and critique routines across creative media.",
    focus: "creative composition and critique",
    strands: ["visual composition", "color narrative", "design iteration", "critique language"],
    lessonTitles: [
      "Composition and Visual Balance",
      "Color Narrative and Mood",
      "Checkpoint: Visual Composition",
      "Design Iteration Cycle",
      "Symbolism and Visual Storytelling",
      "Checkpoint: Creative Communication",
      "Comparative Art Analysis",
      "Portfolio Revision Session",
      "Review: Artistic Decisions",
      "Mastery: Creative Arts II",
    ],
    quizTopics: ["Visual Composition", "Creative Communication", "Artistic Decisions", "Creative Arts II Mastery"],
  },
  {
    id: "astronomy-201",
    constName: "Astronomy201Module",
    title: "Astronomy Observation and Models",
    subject: "Astronomy",
    description: "Connect observational data to models of stars, planets, and large-scale cosmic structure.",
    focus: "astronomical reasoning from observations",
    strands: ["orbital patterns", "stellar classification", "distance and scale", "observational evidence"],
    lessonTitles: [
      "Orbital Patterns and Predictions",
      "Classifying Stars by Evidence",
      "Checkpoint: Observational Astronomy",
      "Measuring Distance and Scale",
      "Galactic Structure and Motion",
      "Checkpoint: Space Model Reasoning",
      "Transient Events in the Sky",
      "Observation Log Workshop",
      "Review: Astronomy Models",
      "Mastery: Astronomy II",
    ],
    quizTopics: ["Observational Astronomy", "Space Model Reasoning", "Astronomy Models", "Astronomy II Mastery"],
  },
  {
    id: "farming-201",
    constName: "Farming201Module",
    title: "Sustainable Farming Systems",
    subject: "Farming",
    description: "Plan resilient food systems using soil, water, crop, and ecosystem strategies.",
    focus: "sustainable agricultural systems",
    strands: ["soil management", "water strategy", "crop planning", "ecosystem resilience"],
    lessonTitles: [
      "Soil Management Plans",
      "Water Use Efficiency",
      "Checkpoint: Resource Planning",
      "Crop Rotation Logic",
      "Biodiversity and Pest Balance",
      "Checkpoint: Sustainable Operations",
      "Farm Data and Yield Decisions",
      "Season Planning Studio",
      "Review: Agro-System Thinking",
      "Mastery: Farming II",
    ],
    quizTopics: ["Resource Planning", "Sustainable Operations", "Agro-System Thinking", "Farming II Mastery"],
  },
  {
    id: "household-management-201",
    constName: "HouseholdManagement201Module",
    title: "Household Systems and Planning II",
    subject: "Household Management",
    description: "Build robust home systems for budgeting, scheduling, safety, and coordination.",
    focus: "household systems design",
    strands: ["systems planning", "time allocation", "resource coordination", "safety protocol"],
    lessonTitles: [
      "Designing Home Systems",
      "Time Allocation Strategies",
      "Checkpoint: Planning and Routine",
      "Resource Coordination at Home",
      "Family Communication Protocols",
      "Checkpoint: Coordination and Safety",
      "Contingency and Emergency Plans",
      "Household Improvement Sprint",
      "Review: Systems for Daily Living",
      "Mastery: Household Management II",
    ],
    quizTopics: ["Planning and Routine", "Coordination and Safety", "Systems for Daily Living", "Household Management II Mastery"],
  },
  {
    id: "general-relativity-201",
    constName: "GeneralRelativity201Module",
    title: "General Relativity Applications",
    subject: "General Relativity",
    description: "Use spacetime ideas to explain lensing, orbits, and modern cosmological observations.",
    focus: "spacetime applications and evidence",
    strands: ["geodesics", "spacetime curvature", "relativistic effects", "observational tests"],
    lessonTitles: [
      "Geodesics and Motion",
      "Curvature and Gravitational Effects",
      "Checkpoint: Relativity Applications",
      "Relativistic Time and Frames",
      "Lensing and Astrophysical Signals",
      "Checkpoint: Evidence for Relativity",
      "Cosmology and Expansion Models",
      "Thought Experiment Studio",
      "Review: Spacetime in Practice",
      "Mastery: General Relativity II",
    ],
    quizTopics: ["Relativity Applications", "Evidence for Relativity", "Spacetime in Practice", "General Relativity II Mastery"],
  },
  {
    id: "language-arts-301",
    constName: "LanguageArts301Module",
    title: "Language Arts Seminar",
    subject: "Language Arts",
    description: "Develop close reading, rhetorical analysis, and multi-paragraph argument writing.",
    focus: "advanced reading and argument writing",
    strands: ["close reading", "rhetorical devices", "argument coherence", "editing precision"],
    lessonTitles: [
      "Close Reading of Complex Text",
      "Rhetorical Devices and Effect",
      "Checkpoint: Rhetorical Analysis",
      "Building Multi-Paragraph Arguments",
      "Counterargument and Rebuttal",
      "Checkpoint: Argument Coherence",
      "Revision for Clarity and Style",
      "Seminar Writing Workshop",
      "Review: Advanced Language Skills",
      "Mastery: Language Arts III",
    ],
    quizTopics: ["Rhetorical Analysis", "Argument Coherence", "Advanced Language Skills", "Language Arts III Mastery"],
  },
  {
    id: "basic-math-301",
    constName: "BasicMath301Module",
    title: "Quantitative Reasoning Lab",
    subject: "Math",
    description: "Strengthen quantitative reasoning with multi-step, data-rich, real-world problem sets.",
    focus: "quantitative reasoning under constraints",
    strands: ["ratio and proportion", "percent reasoning", "data modeling", "multi-step verification"],
    lessonTitles: [
      "Ratio and Proportion in Context",
      "Percent Change and Comparison",
      "Checkpoint: Quantitative Setup",
      "Data Modeling from Tables",
      "Constraint-Based Problem Solving",
      "Checkpoint: Multi-Step Verification",
      "Estimation and Reasonableness",
      "Applied Math Lab Session",
      "Review: Quantitative Strategies",
      "Mastery: Quantitative Reasoning",
    ],
    quizTopics: ["Quantitative Setup", "Multi-Step Verification", "Quantitative Strategies", "Quantitative Reasoning Mastery"],
  },
  {
    id: "general-science-301",
    constName: "GeneralScience301Module",
    title: "Science Systems and Engineering",
    subject: "Science",
    description: "Integrate science inquiry with engineering design, testing, and iteration cycles.",
    focus: "science and engineering integration",
    strands: ["systems thinking", "engineering constraints", "evidence-based iteration", "tradeoff analysis"],
    lessonTitles: [
      "Systems Thinking in Science",
      "Engineering Constraints and Criteria",
      "Checkpoint: Design Reasoning",
      "Prototype and Test Cycles",
      "Interpreting Performance Data",
      "Checkpoint: Evidence-Driven Iteration",
      "Tradeoff Analysis",
      "Design Challenge Studio",
      "Review: Science-Engineering Workflow",
      "Mastery: Science Systems",
    ],
    quizTopics: ["Design Reasoning", "Evidence-Driven Iteration", "Science-Engineering Workflow", "Science Systems Mastery"],
  },
  {
    id: "coding-301",
    constName: "Coding301Module",
    title: "Coding Architecture and Quality",
    subject: "Coding",
    description: "Write maintainable code with modular architecture, testing, and performance-aware design.",
    focus: "software architecture and quality",
    strands: ["modularity", "test design", "state and side effects", "performance tradeoffs"],
    lessonTitles: [
      "Modular Architecture Basics",
      "Designing Reliable Tests",
      "Checkpoint: Code Quality Foundations",
      "State, Side Effects, and Control Flow",
      "Debugging with Hypothesis Testing",
      "Checkpoint: Reliability and Correctness",
      "Performance and Readability Tradeoffs",
      "Refactor Sprint Workshop",
      "Review: Engineering Habits",
      "Mastery: Coding III",
    ],
    quizTopics: ["Code Quality Foundations", "Reliability and Correctness", "Engineering Habits", "Coding III Mastery"],
  },
  {
    id: "financial-literacy-301",
    constName: "FinancialLiteracy301Module",
    title: "Financial Strategy and Risk",
    subject: "Financial Literacy",
    description: "Evaluate financial choices using risk, diversification, long-term planning, and scenario analysis.",
    focus: "financial strategy under uncertainty",
    strands: ["risk profiling", "diversification", "cash-flow forecasting", "decision tradeoffs"],
    lessonTitles: [
      "Risk Profiling and Goals",
      "Diversification Principles",
      "Checkpoint: Risk and Return",
      "Cash-Flow Forecasting",
      "Debt and Opportunity Tradeoffs",
      "Checkpoint: Strategic Financial Decisions",
      "Scenario and Sensitivity Analysis",
      "Personal Plan Workshop",
      "Review: Financial Strategy",
      "Mastery: Financial Literacy III",
    ],
    quizTopics: ["Risk and Return", "Strategic Financial Decisions", "Financial Strategy", "Financial Literacy III Mastery"],
  },
  {
    id: "geography-301",
    constName: "Geography301Module",
    title: "Geography and Climate Resilience",
    subject: "Geography",
    description: "Analyze spatial data to understand climate impacts, resource systems, and resilience planning.",
    focus: "climate and spatial resilience analysis",
    strands: ["climate patterns", "hazard mapping", "resource systems", "resilience planning"],
    lessonTitles: [
      "Climate Pattern Interpretation",
      "Hazard Mapping and Exposure",
      "Checkpoint: Climate Data Reasoning",
      "Resource Systems and Distribution",
      "Settlement Vulnerability Analysis",
      "Checkpoint: Resilience Strategies",
      "Policy and Planning Tradeoffs",
      "Resilience Design Workshop",
      "Review: Geography for Decision-Making",
      "Mastery: Geography III",
    ],
    quizTopics: ["Climate Data Reasoning", "Resilience Strategies", "Geography for Decision-Making", "Geography III Mastery"],
  },
  {
    id: "biology-301",
    constName: "Biology301Module",
    title: "Biology Data and Systems",
    subject: "Biology",
    description: "Use evidence and models to explain biological systems, inheritance, and ecological shifts.",
    focus: "biology evidence and systems modeling",
    strands: ["cell regulation", "inheritance models", "ecosystem dynamics", "evidence-based explanation"],
    lessonTitles: [
      "Cell Regulation and Signaling",
      "Inheritance Model Building",
      "Checkpoint: Biological Modeling",
      "Population and Ecosystem Dynamics",
      "Interpreting Biological Datasets",
      "Checkpoint: Data-Driven Biology",
      "Human Impacts and Resilience",
      "Bio-Systems Investigation Lab",
      "Review: Biology Systems Reasoning",
      "Mastery: Biology III",
    ],
    quizTopics: ["Biological Modeling", "Data-Driven Biology", "Biology Systems Reasoning", "Biology III Mastery"],
  },
  {
    id: "chemistry-301",
    constName: "Chemistry301Module",
    title: "Chemistry Quantitative Reasoning",
    subject: "Chemistry",
    description: "Apply reaction, concentration, and equilibrium models to quantitative chemistry problems.",
    focus: "quantitative chemical reasoning",
    strands: ["stoichiometric relationships", "solution behavior", "reaction energetics", "model validation"],
    lessonTitles: [
      "Stoichiometric Reasoning Foundations",
      "Concentration and Dilution Models",
      "Checkpoint: Quantitative Reactions",
      "Energetics and Reaction Progress",
      "Equilibrium and System Shifts",
      "Checkpoint: Chemical System Analysis",
      "Rates, Catalysts, and Evidence",
      "Chemistry Problem Lab",
      "Review: Chemical Quantitative Strategies",
      "Mastery: Chemistry III",
    ],
    quizTopics: ["Quantitative Reactions", "Chemical System Analysis", "Chemical Quantitative Strategies", "Chemistry III Mastery"],
  },
  {
    id: "physics-301",
    constName: "Physics301Module",
    title: "Physics Systems and Modeling",
    subject: "Physics",
    description: "Model motion, energy, fields, and waves across multi-step physical systems.",
    focus: "physics system modeling",
    strands: ["multi-body dynamics", "energy accounting", "field interactions", "wave-system interpretation"],
    lessonTitles: [
      "Multi-Body Motion Models",
      "Energy Accounting Across Systems",
      "Checkpoint: Physics System Setup",
      "Fields and Interaction Mapping",
      "Wave Behavior in Complex Media",
      "Checkpoint: Model Validation in Physics",
      "Measurement Error and Reliability",
      "Physics Simulation Studio",
      "Review: System-Level Physics",
      "Mastery: Physics III",
    ],
    quizTopics: ["Physics System Setup", "Model Validation in Physics", "System-Level Physics", "Physics III Mastery"],
  },
  {
    id: "social-studies-us-301",
    constName: "SocialStudiesUs301Module",
    title: "US Policy, Institutions, and Change",
    subject: "Social Studies US",
    description: "Evaluate policy choices, institutional tradeoffs, and civic outcomes in the United States.",
    focus: "policy and institutional analysis",
    strands: ["institutional design", "policy impact", "civic deliberation", "evidence in public argument"],
    lessonTitles: [
      "Institutional Design and Incentives",
      "Policy Impact Frameworks",
      "Checkpoint: US Public Systems",
      "Rights, Equity, and Tradeoffs",
      "Federal-State Governance Tensions",
      "Checkpoint: Civic Evidence Analysis",
      "Media Literacy and Public Reasoning",
      "Deliberation Workshop",
      "Review: US Civic Systems Thinking",
      "Mastery: US Social Studies III",
    ],
    quizTopics: ["US Public Systems", "Civic Evidence Analysis", "US Civic Systems Thinking", "US Social Studies III Mastery"],
  },
  {
    id: "social-studies-world-301",
    constName: "SocialStudiesWorld301Module",
    title: "Global Governance and Development",
    subject: "Social Studies World",
    description: "Analyze global institutions, development challenges, and cross-border policy decisions.",
    focus: "global governance and development reasoning",
    strands: ["global institutions", "development tradeoffs", "migration systems", "international cooperation"],
    lessonTitles: [
      "Global Institutions and Mandates",
      "Development Metrics and Limits",
      "Checkpoint: Global Policy Analysis",
      "Migration Systems and Responses",
      "Conflict, Diplomacy, and Cooperation",
      "Checkpoint: Development Decision-Making",
      "Resource Equity and Sustainability",
      "Global Negotiation Lab",
      "Review: World Systems Reasoning",
      "Mastery: World Social Studies III",
    ],
    quizTopics: ["Global Policy Analysis", "Development Decision-Making", "World Systems Reasoning", "World Social Studies III Mastery"],
  },
  {
    id: "world-history-301",
    constName: "WorldHistory301Module",
    title: "World History Interpretation and Synthesis",
    subject: "History Worldwide",
    description: "Synthesize causation, continuity, and source interpretation across major world history eras.",
    focus: "historical synthesis and interpretation",
    strands: ["comparative causation", "continuity/change synthesis", "source reliability", "historical argument"],
    lessonTitles: [
      "Comparative Causation Across Eras",
      "Continuity and Change Synthesis",
      "Checkpoint: Historical Synthesis",
      "Source Reliability and Corroboration",
      "Perspective, Bias, and Context",
      "Checkpoint: Historical Argumentation",
      "Global Interdependence Case Study",
      "Document-Based Seminar",
      "Review: World History Interpretation",
      "Mastery: World History III",
    ],
    quizTopics: ["Historical Synthesis", "Historical Argumentation", "World History Interpretation", "World History III Mastery"],
  },
  {
    id: "language-arts-401",
    constName: "LanguageArts401Module",
    title: "Language Arts Capstone Communication",
    subject: "Language Arts",
    description: "Integrate reading, rhetoric, and writing craft into polished multi-genre communication.",
    focus: "capstone communication and rhetoric",
    strands: ["rhetorical strategy", "text synthesis", "argument architecture", "editing for audience"],
    lessonTitles: [
      "Rhetorical Strategy Design",
      "Synthesizing Multiple Texts",
      "Checkpoint: Advanced Synthesis",
      "Argument Architecture at Scale",
      "Precision Editing for Audience",
      "Checkpoint: Capstone Writing Quality",
      "Voice, Style, and Purpose",
      "Communication Portfolio Studio",
      "Review: High-Impact Writing",
      "Mastery: Language Arts IV",
    ],
    quizTopics: ["Advanced Synthesis", "Capstone Writing Quality", "High-Impact Writing", "Language Arts IV Mastery"],
  },
  {
    id: "basic-math-401",
    constName: "BasicMath401Module",
    title: "Math Capstone Reasoning",
    subject: "Math",
    description: "Apply core quantitative reasoning to integrated, context-rich multi-step challenges.",
    focus: "capstone quantitative reasoning",
    strands: ["integrated operations", "data-backed decisions", "constraint management", "verification discipline"],
    lessonTitles: [
      "Integrated Operation Strategies",
      "Data-Backed Quantitative Decisions",
      "Checkpoint: Capstone Math Setup",
      "Constraint Management in Problems",
      "Reasonableness and Error Bounds",
      "Checkpoint: Quantitative Validation",
      "Model Revision and Iteration",
      "Capstone Problem Lab",
      "Review: Advanced Math Habits",
      "Mastery: Math IV",
    ],
    quizTopics: ["Capstone Math Setup", "Quantitative Validation", "Advanced Math Habits", "Math IV Mastery"],
  },
  {
    id: "general-science-401",
    constName: "GeneralScience401Module",
    title: "Science Capstone Inquiry",
    subject: "Science",
    description: "Run end-to-end inquiry cycles from question framing to evidence-based claims and redesign.",
    focus: "capstone scientific inquiry",
    strands: ["research design", "evidence synthesis", "model revision", "scientific communication"],
    lessonTitles: [
      "Research Question Architecture",
      "Evidence Synthesis Methods",
      "Checkpoint: Capstone Inquiry Design",
      "Model Revision from Data",
      "Uncertainty and Confidence Claims",
      "Checkpoint: Scientific Argument Quality",
      "Communicating Findings",
      "Capstone Investigation Studio",
      "Review: Inquiry to Impact",
      "Mastery: Science IV",
    ],
    quizTopics: ["Capstone Inquiry Design", "Scientific Argument Quality", "Inquiry to Impact", "Science IV Mastery"],
  },
  {
    id: "coding-401",
    constName: "Coding401Module",
    title: "Coding Capstone Systems",
    subject: "Coding",
    description: "Build robust software workflows using architecture, testing, observability, and iteration.",
    focus: "capstone software systems thinking",
    strands: ["system architecture", "test strategy", "debug instrumentation", "performance-quality balance"],
    lessonTitles: [
      "Architecture for Maintainability",
      "Testing Strategy at Scale",
      "Checkpoint: Capstone Engineering Setup",
      "Debug Instrumentation Workflows",
      "Performance and Reliability Tradeoffs",
      "Checkpoint: Engineering Decision Quality",
      "Refactor and Simplify",
      "Capstone Build Sprint",
      "Review: Software Systems Habits",
      "Mastery: Coding IV",
    ],
    quizTopics: ["Capstone Engineering Setup", "Engineering Decision Quality", "Software Systems Habits", "Coding IV Mastery"],
  },
  {
    id: "financial-literacy-401",
    constName: "FinancialLiteracy401Module",
    title: "Financial Capstone Planning",
    subject: "Financial Literacy",
    description: "Construct long-horizon financial plans using scenario analysis, risk controls, and tradeoff logic.",
    focus: "capstone financial planning",
    strands: ["long-term forecasting", "risk mitigation", "portfolio logic", "decision resilience"],
    lessonTitles: [
      "Long-Term Forecast Building",
      "Risk Mitigation Playbooks",
      "Checkpoint: Financial Plan Design",
      "Portfolio Logic and Rebalancing",
      "Stress Testing Decisions",
      "Checkpoint: Strategic Tradeoff Quality",
      "Behavioral Bias and Discipline",
      "Financial Plan Clinic",
      "Review: Durable Money Systems",
      "Mastery: Financial Literacy IV",
    ],
    quizTopics: ["Financial Plan Design", "Strategic Tradeoff Quality", "Durable Money Systems", "Financial Literacy IV Mastery"],
  },
  {
    id: "geography-401",
    constName: "Geography401Module",
    title: "Geography Capstone Resilience",
    subject: "Geography",
    description: "Integrate climate, resource, and spatial data to design resilient place-based solutions.",
    focus: "capstone spatial resilience planning",
    strands: ["multi-layer spatial analysis", "climate adaptation", "resource systems planning", "resilience evaluation"],
    lessonTitles: [
      "Multi-Layer Spatial Analysis",
      "Climate Adaptation Frameworks",
      "Checkpoint: Resilience Plan Design",
      "Resource Systems Tradeoff Modeling",
      "Risk Exposure and Mitigation",
      "Checkpoint: Place-Based Evaluation",
      "Policy Levers and Implementation",
      "Resilience Portfolio Workshop",
      "Review: Geography for Resilient Futures",
      "Mastery: Geography IV",
    ],
    quizTopics: ["Resilience Plan Design", "Place-Based Evaluation", "Geography for Resilient Futures", "Geography IV Mastery"],
  },
  {
    id: "advanced-math-401",
    constName: "AdvancedMath401Module",
    title: "Advanced Math Capstone Proofs and Models",
    subject: "Advanced Math",
    description: "Integrate modeling, optimization, and formal proof to solve complex quantitative problems.",
    focus: "capstone advanced math reasoning",
    strands: ["model assumptions", "optimization constraints", "proof structure", "quantitative validation"],
    lessonTitles: [
      "Model Assumptions and Limits",
      "Optimization with Constraints",
      "Checkpoint: Capstone Modeling",
      "Formal Proof Structure",
      "Validation and Error Bounds",
      "Checkpoint: Mathematical Argument Quality",
      "Multi-Model Comparisons",
      "Capstone Proof Workshop",
      "Review: Advanced Quantitative Thinking",
      "Mastery: Advanced Math IV",
    ],
    quizTopics: ["Capstone Modeling", "Mathematical Argument Quality", "Advanced Quantitative Thinking", "Advanced Math IV Mastery"],
  },
  {
    id: "arts-301",
    constName: "Arts301Module",
    title: "Creative Arts Composition and Curation",
    subject: "Arts",
    description: "Advance from art production to intentional composition, critique, and portfolio curation.",
    focus: "advanced creative composition",
    strands: ["composition systems", "narrative intent", "iterative revision", "critique and curation"],
    lessonTitles: [
      "Composition Systems and Balance",
      "Narrative Intent in Visual Design",
      "Checkpoint: Advanced Composition",
      "Iteration and Refinement Workflow",
      "Critique Language and Evidence",
      "Checkpoint: Creative Revision Quality",
      "Portfolio Curation Principles",
      "Studio Critique Lab",
      "Review: Artistic Decision-Making",
      "Mastery: Creative Arts III",
    ],
    quizTopics: ["Advanced Composition", "Creative Revision Quality", "Artistic Decision-Making", "Creative Arts III Mastery"],
  },
  {
    id: "astronomy-301",
    constName: "Astronomy301Module",
    title: "Astronomy Data Interpretation and Prediction",
    subject: "Astronomy",
    description: "Interpret observational datasets to build and test astronomical predictions.",
    focus: "astronomical data interpretation",
    strands: ["signal interpretation", "orbital prediction", "classification logic", "model testing"],
    lessonTitles: [
      "Signal and Noise in Observation Data",
      "Orbital Prediction Techniques",
      "Checkpoint: Data-Driven Astronomy",
      "Classification from Spectral Evidence",
      "Comparing Competing Space Models",
      "Checkpoint: Astronomical Model Testing",
      "Uncertainty in Cosmic Measurement",
      "Observation Forecast Studio",
      "Review: Astronomy Prediction Skills",
      "Mastery: Astronomy III",
    ],
    quizTopics: ["Data-Driven Astronomy", "Astronomical Model Testing", "Astronomy Prediction Skills", "Astronomy III Mastery"],
  },
  {
    id: "farming-301",
    constName: "Farming301Module",
    title: "Agriculture Systems Optimization",
    subject: "Farming",
    description: "Optimize agricultural systems using yield data, resource constraints, and sustainability goals.",
    focus: "agricultural systems optimization",
    strands: ["yield modeling", "resource constraints", "soil-water tradeoffs", "resilience planning"],
    lessonTitles: [
      "Yield Modeling Fundamentals",
      "Resource Constraint Planning",
      "Checkpoint: Farm Optimization Setup",
      "Soil-Water Tradeoff Analysis",
      "Ecosystem Health Indicators",
      "Checkpoint: Sustainable Yield Decisions",
      "Climate Risk Adaptation on Farms",
      "Farm Operations Scenario Lab",
      "Review: Agricultural Optimization",
      "Mastery: Farming III",
    ],
    quizTopics: ["Farm Optimization Setup", "Sustainable Yield Decisions", "Agricultural Optimization", "Farming III Mastery"],
  },
  {
    id: "household-management-301",
    constName: "HouseholdManagement301Module",
    title: "Household Operations and Resilience",
    subject: "Household Management",
    description: "Design resilient household operations with contingency planning and systems-level coordination.",
    focus: "resilient household operations",
    strands: ["operations design", "resource allocation", "risk mitigation", "communication protocols"],
    lessonTitles: [
      "Operations Design for Daily Stability",
      "Resource Allocation Strategies",
      "Checkpoint: Household Operations Setup",
      "Risk Mitigation at Home",
      "Communication Protocols and Roles",
      "Checkpoint: Contingency Planning",
      "Recovery and Continuity Workflows",
      "Household Resilience Clinic",
      "Review: Systems for Home Reliability",
      "Mastery: Household Management III",
    ],
    quizTopics: ["Household Operations Setup", "Contingency Planning", "Systems for Home Reliability", "Household Management III Mastery"],
  },
  {
    id: "general-relativity-301",
    constName: "GeneralRelativity301Module",
    title: "General Relativity Modeling and Evidence",
    subject: "General Relativity",
    description: "Model relativistic systems and evaluate empirical evidence across astrophysical contexts.",
    focus: "relativity modeling and empirical reasoning",
    strands: ["metric reasoning", "relativistic dynamics", "evidence interpretation", "model comparison"],
    lessonTitles: [
      "Metric Reasoning Foundations",
      "Relativistic Dynamics in Systems",
      "Checkpoint: Relativity Model Setup",
      "Evaluating Astrophysical Evidence",
      "Comparing Competing Explanations",
      "Checkpoint: Relativity Evidence Quality",
      "Approximation and Validity Limits",
      "Relativity Modeling Studio",
      "Review: Empirical Relativity Thinking",
      "Mastery: General Relativity III",
    ],
    quizTopics: ["Relativity Model Setup", "Relativity Evidence Quality", "Empirical Relativity Thinking", "General Relativity III Mastery"],
  },
  {
    id: "social-studies-us-401",
    constName: "SocialStudiesUs401Module",
    title: "US Civics Capstone Analysis",
    subject: "Social Studies US",
    description: "Synthesize institution, policy, and evidence analysis for high-level civic reasoning.",
    focus: "capstone civic systems analysis",
    strands: ["institutional evaluation", "policy tradeoffs", "public evidence use", "civic synthesis"],
    lessonTitles: [
      "Institutional Evaluation Frameworks",
      "Policy Tradeoff Mapping",
      "Checkpoint: Capstone Civic Analysis",
      "Evidence in Public Argument",
      "Governance and Accountability Models",
      "Checkpoint: Policy Reasoning Quality",
      "Civic Synthesis and Recommendation",
      "Public Deliberation Capstone Lab",
      "Review: Advanced US Civic Reasoning",
      "Mastery: US Social Studies IV",
    ],
    quizTopics: ["Capstone Civic Analysis", "Policy Reasoning Quality", "Advanced US Civic Reasoning", "US Social Studies IV Mastery"],
  },
  {
    id: "social-studies-world-401",
    constName: "SocialStudiesWorld401Module",
    title: "Global Systems Capstone Analysis",
    subject: "Social Studies World",
    description: "Integrate global governance, development, and sustainability data for policy synthesis.",
    focus: "capstone global systems analysis",
    strands: ["global governance synthesis", "development evidence", "cross-border tradeoffs", "policy recommendation"],
    lessonTitles: [
      "Governance Synthesis Across Regions",
      "Development Evidence and Limits",
      "Checkpoint: Capstone Global Analysis",
      "Cross-Border Tradeoff Modeling",
      "Sustainability and Equity Decisions",
      "Checkpoint: Global Policy Recommendation",
      "Scenario Comparison and Justification",
      "Global Policy Capstone Lab",
      "Review: Advanced World Systems Reasoning",
      "Mastery: World Social Studies IV",
    ],
    quizTopics: ["Capstone Global Analysis", "Global Policy Recommendation", "Advanced World Systems Reasoning", "World Social Studies IV Mastery"],
  },
  {
    id: "world-history-401",
    constName: "WorldHistory401Module",
    title: "World History Capstone Interpretation",
    subject: "History Worldwide",
    description: "Construct high-level historical arguments using comparative synthesis and source evidence.",
    focus: "capstone historical interpretation",
    strands: ["comparative synthesis", "source integration", "argument structuring", "historical evaluation"],
    lessonTitles: [
      "Comparative Synthesis Across Eras",
      "Source Integration Strategies",
      "Checkpoint: Capstone Historical Argument",
      "Structuring Long-Form Historical Claims",
      "Evaluating Historical Interpretations",
      "Checkpoint: Source-Based Reasoning Quality",
      "Counterargument and Revision in History",
      "Historical Interpretation Capstone Lab",
      "Review: Advanced Historical Analysis",
      "Mastery: World History IV",
    ],
    quizTopics: ["Capstone Historical Argument", "Source-Based Reasoning Quality", "Advanced Historical Analysis", "World History IV Mastery"],
  },
  {
    id: "biology-401",
    constName: "Biology401Module",
    title: "Biology Capstone Inquiry",
    subject: "Biology",
    description: "Integrate biological models, datasets, and explanations across multiple system scales.",
    focus: "capstone biological inquiry",
    strands: ["systems integration", "data interpretation", "model revision", "evidence communication"],
    lessonTitles: [
      "System Integration in Biology",
      "Complex Dataset Interpretation",
      "Checkpoint: Capstone Biology Setup",
      "Model Revision from Biological Evidence",
      "Scale Transitions in Explanation",
      "Checkpoint: Biological Argument Quality",
      "Communicating High-Quality Biology Claims",
      "Biology Capstone Investigation Lab",
      "Review: Advanced Biology Inquiry",
      "Mastery: Biology IV",
    ],
    quizTopics: ["Capstone Biology Setup", "Biological Argument Quality", "Advanced Biology Inquiry", "Biology IV Mastery"],
  },
  {
    id: "chemistry-401",
    constName: "Chemistry401Module",
    title: "Chemistry Capstone Systems",
    subject: "Chemistry",
    description: "Synthesize quantitative chemistry models for equilibrium, rate, and energetic systems.",
    focus: "capstone chemical systems reasoning",
    strands: ["quantitative modeling", "system equilibrium", "kinetic tradeoffs", "evidence validation"],
    lessonTitles: [
      "Quantitative Modeling Across Reactions",
      "Equilibrium Systems and Shifts",
      "Checkpoint: Capstone Chemistry Setup",
      "Kinetics and Energetic Tradeoffs",
      "Validating Chemical Explanations",
      "Checkpoint: Chemical Argument Quality",
      "Error Analysis in Quantitative Chemistry",
      "Chemistry Capstone Problem Lab",
      "Review: Advanced Chemical Systems",
      "Mastery: Chemistry IV",
    ],
    quizTopics: ["Capstone Chemistry Setup", "Chemical Argument Quality", "Advanced Chemical Systems", "Chemistry IV Mastery"],
  },
  {
    id: "physics-401",
    constName: "Physics401Module",
    title: "Physics Capstone Modeling",
    subject: "Physics",
    description: "Build and validate multi-system physics models with rigorous assumptions and checks.",
    focus: "capstone physics modeling and validation",
    strands: ["model construction", "assumption management", "multi-system coupling", "quantitative validation"],
    lessonTitles: [
      "Model Construction for Complex Systems",
      "Assumption Management and Scope",
      "Checkpoint: Capstone Physics Setup",
      "Coupled System Analysis",
      "Validation with Multiple Representations",
      "Checkpoint: Physics Argument Quality",
      "Error Bounds and Reliability",
      "Physics Capstone Simulation Lab",
      "Review: Advanced Physics Modeling",
      "Mastery: Physics IV",
    ],
    quizTopics: ["Capstone Physics Setup", "Physics Argument Quality", "Advanced Physics Modeling", "Physics IV Mastery"],
  },
];

function quizLesson(moduleId, lessonNum, subject, focus, title, strandA, strandB) {
  const base = `${moduleId}-l${lessonNum}`;
  return `{
      id: "${base}",
      title: "${title}",
      type: "quiz",
      duration: 10,
      questions: [
        {
          id: "${base}-q1",
          text: "Which statement best explains ${strandA} in ${subject}?",
          skillId: "${moduleId}-skill-core",
          options: [
            { id: "a", text: "It explains ${strandA} using evidence from the lesson." },
            { id: "b", text: "It ignores how ${strandA} works in practice." },
            { id: "c", text: "It focuses on an unrelated topic outside ${subject}." },
            { id: "d", text: "It repeats terms without showing meaning." }
          ],
          correctOptionId: "a"
        },
        {
          id: "${base}-q2",
          text: "What is the best first step when analyzing ${strandB}?",
          skillId: "${moduleId}-skill-process",
          options: [
            { id: "a", text: "Define the goal and examine evidence for ${strandB}." },
            { id: "b", text: "Guess quickly without checking evidence." },
            { id: "c", text: "Use data unrelated to ${strandB}." },
            { id: "d", text: "Skip the context and jump to a conclusion." }
          ],
          correctOptionId: "a"
        },
        {
          id: "${base}-q3",
          text: "Which option shows strong reasoning about ${focus}?",
          skillId: "${moduleId}-skill-reasoning",
          options: [
            { id: "a", text: "Use examples and verify assumptions step by step." },
            { id: "b", text: "Ignore important details and edge cases." },
            { id: "c", text: "Use assumptions unrelated to ${focus}." },
            { id: "d", text: "Change the topic when evidence gets hard." }
          ],
          correctOptionId: "a"
        },
        {
          id: "${base}-q4",
          text: "Why is spaced review useful for ${subject} mastery?",
          skillId: "${moduleId}-skill-review",
          options: [
            { id: "a", text: "It strengthens memory and transfer over time" },
            { id: "b", text: "It creates confusion" },
            { id: "c", text: "It removes key facts" },
            { id: "d", text: "It has no value" }
          ],
          correctOptionId: "a"
        }
      ],
      interactiveActivities: [
        {
          id: "${base}-ia1",
          type: "matching_pairs",
          title: "Reasoning Match: ${title}",
          description: "Match each error signal to the strongest correction strategy.",
          estimatedMinutes: 7,
          difficultyLevel: "medium",
          instructions: [
            "Review each left-side signal.",
            "Pick the best response on the right.",
            "Use your matches to plan the next drill."
          ],
          data: {
            left: [
              { id: "l1", label: "Confusion about ${strandA}" },
              { id: "l2", label: "Inconsistent approach to ${strandB}" },
              { id: "l3", label: "Weak transfer of ${focus} under timing" }
            ],
            right: [
              { id: "r1", label: "Create a one-step concept summary with one worked example" },
              { id: "r2", label: "Use a checklist before choosing the final answer" },
              { id: "r3", label: "Retest the same target with a short timed sprint" }
            ],
            pairs: [
              { leftId: "l1", rightId: "r1" },
              { leftId: "l2", rightId: "r2" },
              { leftId: "l3", rightId: "r3" }
            ]
          }
        }
      ],
      quizBlueprint: {
        frequency: "lesson_assessment",
        questionsPerCheck: 4,
        totalQuestions: 4,
        timeLimitMinutes: 10,
        questionTypes: [{ type: "mcq_single", count: 4, pointsEach: 1, bloomsLevels: [1, 2, 3] }],
        difficultyDistribution: { easy: 1, medium: 2, hard: 1 },
        feedbackMode: "after_submit",
        adaptive: false,
        masteryThreshold: 0.75
      },
      learningAids: [
        { id: "${base}-a1", type: "mnemonic", title: "Memory Tip", content: "Use the phrase Plan, Check, Explain for each question." }
      ]
    }`;
}

function buildModuleText(moduleInfo) {
  const { id, constName, title, subject, description, focus, strands, lessonTitles, quizTopics } = moduleInfo;
  const lessons = [
    `{
      id: "${id}-l01",
      title: "${lessonTitles[0]}",
      type: "video",
      duration: 10,
      chunks: [
        {
          id: "${id}-l01-c1",
          title: "${lessonTitles[0]} Overview",
          content: "In this lesson, we focus on ${strands[0]} through the lens of ${focus}. The goal is to recognize what strong reasoning looks like before solving."
        },
        {
          id: "${id}-l01-c2",
          title: "Core Concept",
          content: "${strands[0]} and ${strands[1]} work together. Start by naming the main target, then identify the evidence or steps that support it."
        },
        {
          id: "${id}-l01-c3",
          title: "Worked Example",
          content: "Walk through one guided example: define the goal, apply a strategy for ${strands[1]}, then verify the result with a quick check."
        },
        {
          id: "${id}-l01-c4",
          title: "Transfer Prompt",
          content: "Apply the same process to a new scenario and explain why your approach is valid in one clear sentence."
        }
      ],
      flashcards: [
        { id: "${id}-l01-f1", front: "${strands[0]}", back: "A central target skill in this module. Name it before solving." },
        { id: "${id}-l01-f2", front: "${strands[1]}", back: "Use this as the method step after defining the goal." },
        { id: "${id}-l01-f3", front: "Verification", back: "Check that your result matches the original goal and constraints." },
        { id: "${id}-l01-f4", front: "Transfer", back: "Use the same strategy on a new item to confirm true mastery." }
      ],
      learningAids: [
        { id: "${id}-l01-a1", type: "image", title: "Concept Poster", content: "A colorful infographic about ${strands[0]} and ${strands[1]}." },
        { id: "${id}-l01-a2", type: "animation", title: "Warm-up Animation", content: "Short animation introducing ${subject} vocabulary." }
      ]
    }`,
    `{
      id: "${id}-l02",
      title: "${lessonTitles[1]}",
      type: "interactive",
      duration: 12,
      metadata: {
        prompts: [
          "Identify one core idea about ${strands[0]} from this lesson.",
          "Explain where ${strands[1]} appears in real life.",
          "Describe one question you still have about ${focus}."
        ]
      },
      interactiveActivities: [
        {
          id: "${id}-l02-ia1",
          type: "drag_and_drop",
          title: "Practice Flow Builder",
          description: "Sort each action into Plan, Execute, or Reflect.",
          estimatedMinutes: 8,
          difficultyLevel: "easy",
          data: {
            targets: [
              { id: "plan", label: "Plan" },
              { id: "execute", label: "Execute" },
              { id: "reflect", label: "Reflect" }
            ],
            draggables: [
              { id: "d1", label: "Set a goal for ${strands[0]}", correctTargetId: "plan" },
              { id: "d2", label: "Try one strategy for ${strands[1]}", correctTargetId: "execute" },
              { id: "d3", label: "Record what worked and what to improve", correctTargetId: "reflect" }
            ]
          }
        }
      ],
      learningAids: [
        { id: "${id}-l02-a1", type: "practice", title: "Try It Board", content: "Complete a guided activity on ${strands[1]} and write one reflection." }
      ]
    }`,
    quizLesson(id, "03", subject, focus, lessonTitles[2], strands[0], strands[1]),
    `{
      id: "${id}-l04",
      title: "${lessonTitles[3]}",
      type: "video",
      duration: 11,
      chunks: [
        {
          id: "${id}-l04-c1",
          title: "${lessonTitles[3]} Focus",
          content: "This lesson deepens ${strands[2]} using structured reasoning. We move from concept understanding to applied decisions."
        },
        {
          id: "${id}-l04-c2",
          title: "Method Steps",
          content: "Step 1: identify what is being asked. Step 2: choose a strategy aligned to ${strands[2]}. Step 3: justify with evidence."
        },
        {
          id: "${id}-l04-c3",
          title: "Common Mistakes",
          content: "Common errors include skipping setup, using unrelated assumptions, or failing to verify the final result."
        },
        {
          id: "${id}-l04-c4",
          title: "Independent Try",
          content: "Solve one similar item and compare your process to the lesson sequence."
        }
      ],
      flashcards: [
        { id: "${id}-l04-f1", front: "${strands[2]}", back: "State the target and pick a strategy before solving." },
        { id: "${id}-l04-f2", front: "Step Sequence", back: "Goal -> Strategy -> Evidence -> Check." },
        { id: "${id}-l04-f3", front: "Assumption Check", back: "Remove assumptions that are not supported by the prompt." },
        { id: "${id}-l04-f4", front: "Process Match", back: "Your explanation should match the steps you actually used." }
      ],
      learningAids: [
        { id: "${id}-l04-a1", type: "image", title: "Worked Example Sheet", content: "Step-by-step visuals for ${strands[2]} scenarios." }
      ]
    }`,
    `{
      id: "${id}-l05",
      title: "${lessonTitles[4]}",
      type: "interactive",
      duration: 13,
      metadata: {
        prompts: [
          "Pick one challenge and outline your approach.",
          "Test your approach and record the result.",
          "Revise your approach and explain the change."
        ]
      },
      interactiveActivities: [
        {
          id: "${id}-l05-ia1",
          type: "sorting_buckets",
          title: "Strategy Sort",
          description: "Sort study actions into Concept, Process, or Review lanes.",
          estimatedMinutes: 9,
          difficultyLevel: "medium",
          data: {
            buckets: [
              { id: "concept", label: "${strands[2]} Concept" },
              { id: "process", label: "${strands[3]} Process" },
              { id: "review", label: "Review Loop" }
            ],
            items: [
              { id: "i1", label: "Write one definition in your own words", correctBucketId: "concept" },
              { id: "i2", label: "Follow the step-by-step method on a new example", correctBucketId: "process" },
              { id: "i3", label: "Retest the same skill tomorrow", correctBucketId: "review" }
            ]
          }
        }
      ],
      learningAids: [
        { id: "${id}-l05-a1", type: "animation", title: "Challenge Walkthrough", content: "Animated sequence for solving a ${strands[2]} challenge." }
      ]
    }`,
    quizLesson(id, "06", subject, focus, lessonTitles[5], strands[2], strands[3]),
    `{
      id: "${id}-l07",
      title: "${lessonTitles[6]}",
      type: "video",
      duration: 12,
      chunks: [
        {
          id: "${id}-l07-c1",
          title: "${lessonTitles[6]} Setup",
          content: "Use ${strands[3]} to organize your approach before starting. Planning first improves quality and speed."
        },
        {
          id: "${id}-l07-c2",
          title: "Decision Rules",
          content: "When choices compete, use a simple rule: pick the option with strongest evidence and clearest link to the goal."
        },
        {
          id: "${id}-l07-c3",
          title: "Quality Control",
          content: "Check for three things: accuracy, completeness, and alignment with the original objective."
        },
        {
          id: "${id}-l07-c4",
          title: "Next-Step Plan",
          content: "Write one action to repeat and one action to improve in your next practice round."
        }
      ],
      flashcards: [
        { id: "${id}-l07-f1", front: "${strands[3]}", back: "Use this as your organizing framework before execution." },
        { id: "${id}-l07-f2", front: "Decision Rule", back: "Choose the option with strongest evidence-to-goal alignment." },
        { id: "${id}-l07-f3", front: "Quality Control", back: "Accuracy + completeness + objective match." },
        { id: "${id}-l07-f4", front: "Iteration", back: "Repeat what works; refine one weak step each cycle." }
      ],
      learningAids: [
        { id: "${id}-l07-a1", type: "practice", title: "Project Planner", content: "Template for planning a mini project focused on ${strands[3]}." }
      ]
    }`,
    `{
      id: "${id}-l08",
      title: "${lessonTitles[7]}",
      type: "interactive",
      duration: 10,
      metadata: {
        prompts: [
          "What did you learn most clearly?",
          "Where did you struggle and why?",
          "What is your next improvement target?"
        ]
      },
      interactiveActivities: [
        {
          id: "${id}-l08-ia1",
          type: "matching_pairs",
          title: "Reflection Match",
          description: "Match each reflection prompt with the best follow-up action.",
          estimatedMinutes: 7,
          difficultyLevel: "easy",
          data: {
            left: [
              { id: "l1", label: "I keep missing one skill pattern" },
              { id: "l2", label: "I rush and make avoidable mistakes" },
              { id: "l3", label: "I understand in notes but miss in quizzes" }
            ],
            right: [
              { id: "r1", label: "Do a focused drill on that exact pattern" },
              { id: "r2", label: "Use a short checklist before submitting answers" },
              { id: "r3", label: "Repeat the skill in a timed re-check" }
            ],
            pairs: [
              { leftId: "l1", rightId: "r1" },
              { leftId: "l2", rightId: "r2" },
              { leftId: "l3", rightId: "r3" }
            ]
          }
        }
      ],
      learningAids: [
        { id: "${id}-l08-a1", type: "mnemonic", title: "Reflection Cycle", content: "Remember Observe, Adjust, Repeat while practicing." }
      ]
    }`,
    quizLesson(id, "09", subject, focus, lessonTitles[8], strands[1], strands[3]),
    quizLesson(id, "10", subject, focus, lessonTitles[9], strands[0], strands[2]),
    `{
      id: "${id}-l11",
      title: "Applied ${subject} Challenge Studio",
      type: "interactive",
      duration: 14,
      metadata: {
        prompts: [
          "Select one weak pattern from recent quizzes.",
          "Apply a step-by-step correction using ${strands[2]}.",
          "Document your transfer plan for the next timed check."
        ]
      },
      interactiveActivities: [
        {
          id: "${id}-l11-ia1",
          type: "sorting_buckets",
          title: "Transfer Ladder",
          description: "Sort actions into Diagnose, Fix, and Transfer phases.",
          estimatedMinutes: 9,
          difficultyLevel: "medium",
          data: {
            buckets: [
              { id: "diagnose", label: "Diagnose" },
              { id: "fix", label: "Fix" },
              { id: "transfer", label: "Transfer" }
            ],
            items: [
              { id: "i1", label: "Tag repeated mistakes in ${strands[1]}", correctBucketId: "diagnose" },
              { id: "i2", label: "Rework one missed item with full reasoning", correctBucketId: "fix" },
              { id: "i3", label: "Retest with a timed mini-check on ${strands[3]}", correctBucketId: "transfer" }
            ]
          }
        }
      ],
      learningAids: [
        { id: "${id}-l11-a1", type: "practice", title: "Correction Loop Card", content: "Use Diagnose, Fix, Transfer for each difficult problem." }
      ]
    }`,
    quizLesson(id, "12", subject, focus, `${quizTopics[3]} Applied Retest`, strands[0], strands[3]),
    `{
      id: "${id}-l13",
      title: "${subject} Scenario Lab",
      type: "video",
      duration: 12,
      chunks: [
        {
          id: "${id}-l13-c1",
          title: "Scenario Brief",
          content: "This scenario combines ${strands[0]}, ${strands[2]}, and ${strands[3]} in one applied challenge."
        },
        {
          id: "${id}-l13-c2",
          title: "Plan the Approach",
          content: "Break the scenario into smaller decisions, then assign one strategy to each decision point."
        },
        {
          id: "${id}-l13-c3",
          title: "Execute and Justify",
          content: "Apply the plan and explain each move with evidence, not guesses."
        },
        {
          id: "${id}-l13-c4",
          title: "Evaluate Outcome",
          content: "Compare your result to the target and identify what to keep versus what to adjust."
        }
      ],
      flashcards: [
        { id: "${id}-l13-f1", front: "Scenario Planning", back: "Split a complex task into clear decision points." },
        { id: "${id}-l13-f2", front: "Evidence Link", back: "Each step should connect to evidence in the scenario." },
        { id: "${id}-l13-f3", front: "Adjustment Loop", back: "Use outcome checks to refine your next attempt." },
        { id: "${id}-l13-f4", front: "Applied Mastery", back: "Mastery means transferring the process to a new context." }
      ],
      learningAids: [
        { id: "${id}-l13-a1", type: "image", title: "Scenario Map", content: "A real-world scenario map connecting ${strands[0]}, ${strands[2]}, and ${strands[3]}." },
        { id: "${id}-l13-a2", type: "practice", title: "Mini Case Prompt", content: "Apply one strategy to a new case and explain your reasoning." }
      ]
    }`,
    `{
      id: "${id}-l14",
      title: "${subject} Coaching Clinic",
      type: "interactive",
      duration: 13,
      metadata: {
        prompts: [
          "Identify one repeated error pattern from your recent work.",
          "Choose the best correction routine for that pattern.",
          "Write a transfer goal for your next timed check."
        ]
      },
      interactiveActivities: [
        {
          id: "${id}-l14-ia1",
          type: "matching_pairs",
          title: "Error to Fix Match",
          description: "Match each error signal to the highest-impact correction action.",
          estimatedMinutes: 8,
          difficultyLevel: "medium",
          data: {
            left: [
              { id: "l1", label: "Repeated miss on ${strands[0]} setup" },
              { id: "l2", label: "Losses due to rushed ${strands[3]} decisions" },
              { id: "l3", label: "Correct in notes but weak transfer in new tasks" }
            ],
            right: [
              { id: "r1", label: "Rebuild setup steps and retest one parallel item" },
              { id: "r2", label: "Use checkpoint pacing + verify before submit" },
              { id: "r3", label: "Pair correction with one timed transfer item" }
            ],
            pairs: [
              { leftId: "l1", rightId: "r1" },
              { leftId: "l2", rightId: "r2" },
              { leftId: "l3", rightId: "r3" }
            ]
          }
        }
      ],
      learningAids: [
        { id: "${id}-l14-a1", type: "mnemonic", title: "Clinic Loop", content: "Diagnose, Correct, Transfer." }
      ]
    }`,
    quizLesson(id, "15", subject, focus, `${quizTopics[3]} Mastery Sprint`, strands[1], strands[2]),
  ];

  return `import type { LearningModule } from "@/lib/modules/types";

export const ${constName}: LearningModule = {
  id: "${id}",
  title: "${title}",
  description: "${description}",
  subject: "${subject}",
  tags: ["core", "curriculum", "interactive"],
  minAge: 7,
  maxAge: 18,
  moduleVersion: "1.1.0",
  version: "1.1.0",
  learningObjectives: [
    "Understand core concepts in ${subject}",
    "Apply ${quizTopics[1]} strategies through guided practice",
    "Demonstrate mastery with subject-specific quizzes"
  ],
  lessons: [
    ${lessons.join(",\n    ")}
  ],
};
`;
}

async function main() {
  for (const moduleInfo of modules) {
    const content = buildModuleText(moduleInfo);
    const filePath = path.join(catalogDir, `${moduleInfo.id}.ts`);
    await fs.writeFile(filePath, content, "utf8");
  }
  console.log(`Generated rich lesson content for ${modules.length} modules.`);
}

main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
